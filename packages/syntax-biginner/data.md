# 数据类型

rust是一门静态类型语言，编译时需要确定的数据类型，因此写代码的时候任意值都含有确定类型。
基本数据类型分为两种：
1. 标量类型
2. 组合类型

## 标量类型

也就是基本数据类型

1. 整型
2. 浮点型
3. 布尔型
4. 字符型

### 整型

整型注意这几个点

1. 有符号(signed)和无符号(unsigned)区别: 二进制首位是否表示符号。
2. arch类型表示具体数据基于你的计算机类型。64位计算机就是64bit，32位计算机就是32bit

| length(bit) | singed | unsigned |
| ----------- | ------ | -------- |
| 8           | i8     | u8       |
| 16          | i16    | u16      |
| 64          | i64    | u64      |
| 128         | i128   | u128     |
| arch        | isize  | usize    |
|             |        |          |

整型也有几种写法

1. 用`_`分割，便于阅读: 123_456
2. 十进制：123456
3. 十六进制: 0xff
4. 八进制: 0o77
5. 二进制:0b1111_0000
6. 位(u8类型可以)：b'A'

### 浮点型

浮点型和其他语言也是类似的，分为32位浮点和64位浮点。默认为64位浮点(官方意思是现代计算机已经够可以了，要充分利用)

| value              | type |
| ------------------ | ---- |
| `let x = 2.0`      | f64  |
| `let y: f32 = 3.0` | f32  |
|                    |      |

### 布尔类型

这个也没啥说的，只是注意用的关键词是`bool`。值为`true | false`

### 字符类型

rust的`char`类型支持`unicode`编码，因此你可以用`emoji`

```rust
let c = '😊'
```

## 复合类型

复合类型就是组合类型，由于计算机系统会进行很复杂的运算，只有一些基本类型是远远不够用的。因此我们有很多复合类型的数据。比如`js`里面的数组其实就是复合的类型，复合类型的具体数据是用引用地址来表示的。

```js
// js里面可以这样
// arr是没有具体的类型的
// 他只是一个可扩展的内存空间
// 遇到引用类型的时候存储了对应数据的地址
let arr = [1, 2.0, 'abc', {}, []]
```

### 元组

元组类型的概念在很早之前的计算机编程语言里面就有了。目的就是组合不同的数据类型，类似于上面我们提到的`js`数组。

```rust
// 表示方式
let tup: (i32, f64) = (500, 3.14);
// 取值。num和pi分别被推断为i32和f64
let num = tup.0;
let pi = tup.1;
// 另一种取值方式。解构
let (num2, pi2) = tup;

// 你也可以修改值
let mut tup: (i32, f64) = (200, 3.24);
tup.0 = 100;
tup.1 = 99.66;
```

注意几点

1. 元组类型定义后不可扩展或者缩小，定义后大小就确定了。(方便编译时推断所需内存大小)
2. 元组就像是轻量级的枚举类型。在一些小数据组合方面有便利性。

### 数组类型

数组是复合类型，这是毫无疑问的。但是数组和元组不同，数组的元素类型是一致的。而且rust内的数组也不同于js里面的数组，rust的数组定义后无法修改数组长度，这点和元组一样。

```rust
// 定义一个数组, 定义时确定数组需要的内存空间
// 推断为[i32; 3]
let arr = [1, 2, 3];
let arr = ["apple", "orange"];
// 创建数组，长度为10， 元素都是0
let arr = [0; 10]
// 创建二维数组4 * 4 二维数组
let arr = [[0; 4]; 4];
```

很多情况我们想要一个长度可扩展的空间，在rust内，这不是数组的工作。而是另外一个内建类型Vec(向量)。向量可以扩展长度和元素。